# ğŸš€ LangChain ì•„í‚¤í…ì²˜ ì™„ì „ ê°€ì´ë“œ

## ğŸ“‹ ëª©ì°¨
1. [LangChain ê°œìš”](#langchain-ê°œìš”)
2. [í•µì‹¬ ì•„í‚¤í…ì²˜](#í•µì‹¬-ì•„í‚¤í…ì²˜)
3. [ì£¼ìš” ëª¨ë“ˆ ìƒì„¸ ë¶„ì„](#ì£¼ìš”-ëª¨ë“ˆ-ìƒì„¸-ë¶„ì„)
4. [ì‹¤ì œ ë™ì‘ í”Œë¡œìš°](#ì‹¤ì œ-ë™ì‘-í”Œë¡œìš°)
5. [ì‹¤ìš©ì ì¸ êµ¬í˜„ ì˜ˆì‹œ](#ì‹¤ìš©ì ì¸-êµ¬í˜„-ì˜ˆì‹œ)

---

## ğŸ¯ LangChain ê°œìš”

LangChainì€ **Large Language Model(LLM)ì„ í™œìš©í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì„ ìœ„í•œ í”„ë ˆì„ì›Œí¬**ì…ë‹ˆë‹¤. ë§ˆì¹˜ ë ˆê³  ë¸”ë¡ì²˜ëŸ¼ ë‹¤ì–‘í•œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì¡°í•©í•´ì„œ ë³µì¡í•œ AI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.

### ğŸ”‘ í•µì‹¬ ì² í•™
- **ëª¨ë“ˆí™”**: ê° ê¸°ëŠ¥ì„ ë…ë¦½ì ì¸ ëª¨ë“ˆë¡œ ë¶„ë¦¬
- **ì¡°í•©ì„±**: ë‹¤ì–‘í•œ ëª¨ë“ˆì„ ììœ ë¡­ê²Œ ì¡°í•©
- **í™•ì¥ì„±**: ìƒˆë¡œìš´ ëª¨ë¸ì´ë‚˜ ë„êµ¬ë¥¼ ì‰½ê²Œ ì¶”ê°€
- **ì¶”ìƒí™”**: ë³µì¡í•œ êµ¬í˜„ ì„¸ë¶€ì‚¬í•­ì„ ìˆ¨ê¸°ê³  ê°„ë‹¨í•œ ì¸í„°í˜ì´ìŠ¤ ì œê³µ

---

## ğŸ—ï¸ í•µì‹¬ ì•„í‚¤í…ì²˜

### 1ï¸âƒ£ **ì‚¬ìš©ì ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆì´ì–´** (íŒŒë€ìƒ‰)
```
ğŸš€ Your Application â† ì‹¤ì œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
ğŸ‘¤ User Interface  â† ì‚¬ìš©ìì™€ì˜ ì ‘ì 
```

### 2ï¸âƒ£ **LangChain í•µì‹¬ ì¶”ìƒí™”** (ë³´ë¼ìƒ‰)
ì´ ë ˆì´ì–´ê°€ LangChainì˜ í•µì‹¬ì…ë‹ˆë‹¤!

#### ğŸ”— **ì²´ì¸ & ì—ì´ì „íŠ¸**
- **Chains**: ì—¬ëŸ¬ ë‹¨ê³„ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰
- **Agents**: ìƒí™©ì— ë”°ë¼ ë™ì ìœ¼ë¡œ ê²°ì •
- **Runnable**: ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì˜ ê¸°ë³¸ ì¸í„°í˜ì´ìŠ¤

#### ğŸ§  **ëª¨ë¸ í†µí•©**
- **LLMs**: GPT, Claude ë“± í…ìŠ¤íŠ¸ ìƒì„± ëª¨ë¸
- **Chat Models**: ëŒ€í™”í˜• ëª¨ë¸
- **Embeddings**: í…ìŠ¤íŠ¸ë¥¼ ë²¡í„°ë¡œ ë³€í™˜

#### ğŸ§  **ë©”ëª¨ë¦¬ & ìƒíƒœ**
- **Memory**: ëŒ€í™” ê¸°ë¡ ê´€ë¦¬
- **Stores**: ë‹¤ì–‘í•œ ì €ì¥ì†Œ ì¶”ìƒí™”

#### ğŸ› ï¸ **ë„êµ¬ & ì™¸ë¶€ ì—°ë™**
- **Tools**: ì™¸ë¶€ API, í•¨ìˆ˜ í˜¸ì¶œ
- **Retrievers**: ë¬¸ì„œ ê²€ìƒ‰
- **Document Loaders**: ë‹¤ì–‘í•œ í˜•ì‹ì˜ ë¬¸ì„œ ë¡œë“œ

### 3ï¸âƒ£ **ë°ì´í„° ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸** (ì´ˆë¡ìƒ‰)
```
ğŸ“„ ë¬¸ì„œ â†’ âœ‚ï¸ ì²­í¬ ë¶„í•  â†’ ğŸ“Š ì„ë² ë”© â†’ ğŸ—ƒï¸ ë²¡í„° ì €ì¥
```

### 4ï¸âƒ£ **ì™¸ë¶€ ì„œë¹„ìŠ¤ & ë°ì´í„°** (ì£¼í™©ìƒ‰)
ì‹¤ì œ ë°ì´í„°ì™€ ì„œë¹„ìŠ¤ë“¤ì´ ìœ„ì¹˜í•˜ëŠ” ë ˆì´ì–´

---

## ğŸ” ì£¼ìš” ëª¨ë“ˆ ìƒì„¸ ë¶„ì„

### ğŸ”— **Chains (ì²´ì¸)**
**ìˆœì°¨ì  ì²˜ë¦¬ì˜ í•µì‹¬**

```python
# ê°„ë‹¨í•œ ì²´ì¸ ì˜ˆì‹œ
chain = prompt_template | llm | output_parser
result = chain.invoke({"question": "íŒŒì´ì¬ì´ ë­ì•¼?"})
```

**ì£¼ìš” ì²´ì¸ íƒ€ì…:**
- **LLMChain**: ê°€ì¥ ê¸°ë³¸ì ì¸ ì²´ì¸
- **SequentialChain**: ì—¬ëŸ¬ ì²´ì¸ì„ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰
- **RouterChain**: ì¡°ê±´ì— ë”°ë¼ ë‹¤ë¥¸ ì²´ì¸ ì„ íƒ
- **RAG Chain**: ê²€ìƒ‰ ì¦ê°• ìƒì„±

### ğŸ¤– **Agents (ì—ì´ì „íŠ¸)**
**ë™ì  ì˜ì‚¬ê²°ì •ì˜ í•µì‹¬**

ì—ì´ì „íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì‚¬ê³  ê³¼ì •ì„ ê±°ì¹©ë‹ˆë‹¤:
1. **ê´€ì°°** (Observation): í˜„ì¬ ìƒí™© íŒŒì•…
2. **ì‚¬ê³ ** (Thought): ë¬´ì—‡ì„ í•´ì•¼ í• ì§€ ê²°ì •
3. **í–‰ë™** (Action): ë„êµ¬ ì‚¬ìš© ë˜ëŠ” ì‘ë‹µ
4. **ë°˜ë³µ** (Repeat): ëª©í‘œ ë‹¬ì„±ê¹Œì§€ ë°˜ë³µ

```python
# ì—ì´ì „íŠ¸ ì˜ˆì‹œ
agent = create_react_agent(
    llm=llm,
    tools=[search_tool, calculator_tool],
    prompt=prompt
)
```

### ğŸ§  **Memory (ë©”ëª¨ë¦¬)**
**ëŒ€í™” ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬**

**ë©”ëª¨ë¦¬ íƒ€ì…:**
- **ConversationBufferMemory**: ì „ì²´ ëŒ€í™” ê¸°ë¡ ì €ì¥
- **ConversationSummaryMemory**: ëŒ€í™”ë¥¼ ìš”ì•½í•´ì„œ ì €ì¥
- **ConversationBufferWindowMemory**: ìµœê·¼ Nê°œ ë©”ì‹œì§€ë§Œ ì €ì¥
- **VectorStoreRetrieverMemory**: ë²¡í„° ê²€ìƒ‰ ê¸°ë°˜ ë©”ëª¨ë¦¬

### ğŸ” **Retrievers (ê²€ìƒ‰ê¸°)**
**ì •ë³´ ê²€ìƒ‰ì˜ í•µì‹¬**

```python
# ë²¡í„° ê¸°ë°˜ ê²€ìƒ‰
retriever = vectorstore.as_retriever(
    search_type="similarity",
    search_kwargs={"k": 3}
)
```

**ê²€ìƒ‰ ì „ëµ:**
- **ìœ ì‚¬ë„ ê²€ìƒ‰**: ì½”ì‚¬ì¸ ìœ ì‚¬ë„ ê¸°ë°˜
- **MMR (Maximum Marginal Relevance)**: ë‹¤ì–‘ì„± ê³ ë ¤
- **ì„ê³„ê°’ ê¸°ë°˜**: ì¼ì • ì ìˆ˜ ì´ìƒë§Œ ë°˜í™˜

### ğŸ› ï¸ **Tools (ë„êµ¬)**
**ì™¸ë¶€ ê¸°ëŠ¥ ì—°ë™**

```python
# ì»¤ìŠ¤í…€ ë„êµ¬ ìƒì„±
@tool
def get_weather(city: str) -> str:
    """íŠ¹ì • ë„ì‹œì˜ ë‚ ì”¨ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤."""
    # API í˜¸ì¶œ ë¡œì§
    return f"{city}ì˜ í˜„ì¬ ë‚ ì”¨ëŠ”..."
```

---

## âš¡ ì‹¤ì œ ë™ì‘ í”Œë¡œìš°

### ğŸ“š **RAG (ê²€ìƒ‰ ì¦ê°• ìƒì„±) í”Œë¡œìš°**
```
1. ğŸ“„ ë¬¸ì„œ ë¡œë“œ (Document Loaders)
2. âœ‚ï¸ í…ìŠ¤íŠ¸ ë¶„í•  (Text Splitters)
3. ğŸ“Š ì„ë² ë”© ìƒì„± (Embeddings)
4. ğŸ—ƒï¸ ë²¡í„° ì €ì¥ì†Œì— ì €ì¥ (Vector Stores)
5. ğŸ” ì‚¬ìš©ì ì§ˆë¬¸ìœ¼ë¡œ ê²€ìƒ‰ (Retrievers)
6. ğŸ§  ê²€ìƒ‰ ê²°ê³¼ + ì§ˆë¬¸ì„ LLMì— ì „ë‹¬
7. ğŸ“ ìµœì¢… ë‹µë³€ ìƒì„±
```

### ğŸ¤– **ì—ì´ì „íŠ¸ ì‹¤í–‰ í”Œë¡œìš°**
```
1. ğŸ‘¤ ì‚¬ìš©ì ì…ë ¥
2. ğŸ¤” ì—ì´ì „íŠ¸ê°€ ìƒí™© ë¶„ì„
3. ğŸ¯ í•„ìš”í•œ ë„êµ¬ ì„ íƒ
4. ğŸ› ï¸ ë„êµ¬ ì‹¤í–‰
5. ğŸ“Š ê²°ê³¼ ë¶„ì„
6. ğŸ”„ ëª©í‘œ ë‹¬ì„±ê¹Œì§€ ë°˜ë³µ
7. ğŸ“ ìµœì¢… ì‘ë‹µ
```

---

## ğŸ’¡ ì‹¤ìš©ì ì¸ êµ¬í˜„ ì˜ˆì‹œ

### ğŸ”§ **ê¸°ë³¸ RAG ì‹œìŠ¤í…œ**
```python
from langchain_community.document_loaders import PyPDFLoader
from langchain.text_splitter import RecursiveCharacterTextSplitter
from langchain_openai import OpenAIEmbeddings, ChatOpenAI
from langchain_community.vectorstores import Chroma
from langchain.chains import RetrievalQA

# 1. ë¬¸ì„œ ë¡œë“œ
loader = PyPDFLoader("document.pdf")
documents = loader.load()

# 2. í…ìŠ¤íŠ¸ ë¶„í• 
text_splitter = RecursiveCharacterTextSplitter(
    chunk_size=1000,
    chunk_overlap=200
)
texts = text_splitter.split_documents(documents)

# 3. ì„ë² ë”© & ë²¡í„° ì €ì¥
embeddings = OpenAIEmbeddings()
vectorstore = Chroma.from_documents(texts, embeddings)

# 4. RAG ì²´ì¸ êµ¬ì„±
llm = ChatOpenAI(temperature=0)
qa_chain = RetrievalQA.from_chain_type(
    llm=llm,
    chain_type="stuff",
    retriever=vectorstore.as_retriever()
)

# 5. ì§ˆë¬¸ ë‹µë³€
result = qa_chain.invoke({"query": "ë¬¸ì„œì˜ ì£¼ìš” ë‚´ìš©ì€?"})
```

### ğŸ¤– **ê°„ë‹¨í•œ ì—ì´ì „íŠ¸**
```python
from langchain.agents import create_react_agent, AgentExecutor
from langchain_community.tools import DuckDuckGoSearchRun
from langchain.tools import Tool

# ë„êµ¬ ì¤€ë¹„
search = DuckDuckGoSearchRun()
tools = [
    Tool(
        name="Search",
        func=search.run,
        description="ìµœì‹  ì •ë³´ ê²€ìƒ‰ì— ì‚¬ìš©"
    )
]

# ì—ì´ì „íŠ¸ ìƒì„±
agent = create_react_agent(llm, tools, prompt)
agent_executor = AgentExecutor(
    agent=agent,
    tools=tools,
    verbose=True
)

# ì‹¤í–‰
result = agent_executor.invoke({
    "input": "2024ë…„ AI íŠ¸ë Œë“œë¥¼ ì¡°ì‚¬í•´ì¤˜"
})
```

---

## ğŸ¯ **LangChain ì‚¬ìš© ì‹œ í•µì‹¬ íŒ**

### âœ… **Do (í•´ì•¼ í•  ê²ƒ)**
- **ëª¨ë“ˆí™”**: ê° ê¸°ëŠ¥ì„ ë…ë¦½ì ìœ¼ë¡œ ì„¤ê³„
- **ì—ëŸ¬ ì²˜ë¦¬**: ì™¸ë¶€ API í˜¸ì¶œ ì‹œ ì˜ˆì™¸ ì²˜ë¦¬ í•„ìˆ˜
- **ë¹„ìš© ê´€ë¦¬**: LLM API í˜¸ì¶œ ìµœì í™”
- **ìºì‹±**: ë°˜ë³µì ì¸ ì‘ì—…ì€ ê²°ê³¼ ìºì‹±
- **ë¡œê¹…**: ë””ë²„ê¹…ì„ ìœ„í•œ ìƒì„¸ ë¡œê·¸

### âŒ **Don't (í•˜ì§€ ë§ì•„ì•¼ í•  ê²ƒ)**
- **ê³¼ë„í•œ ì²´ì¸**: ë„ˆë¬´ ë³µì¡í•œ ì²´ì¸ì€ ë””ë²„ê¹… ì–´ë ¤ì›€
- **ë¬´ì œí•œ ì—ì´ì „íŠ¸**: ë¬´í•œ ë£¨í”„ ë°©ì§€ í•„ìˆ˜
- **ë¯¼ê° ì •ë³´**: API í‚¤ë‚˜ ê°œì¸ì •ë³´ í•˜ë“œì½”ë”© ê¸ˆì§€
- **ë™ê¸° ì²˜ë¦¬**: ëŒ€ìš©ëŸ‰ ì²˜ë¦¬ ì‹œ ë¹„ë™ê¸° ì‚¬ìš© ê¶Œì¥

---

## ğŸš€ **ê²°ë¡ **

LangChainì€ **ë ˆê³  ë¸”ë¡ ê°™ì€ ëª¨ë“ˆí™”ëœ êµ¬ì¡°**ë¡œ ì„¤ê³„ë˜ì–´ ìˆì–´, ê°œë°œìê°€ í•„ìš”ì— ë”°ë¼ ë‹¤ì–‘í•œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì¡°í•©í•´ì„œ ê°•ë ¥í•œ LLM ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.

í•µì‹¬ì€ **ê° ëª¨ë“ˆì˜ ì—­í• ì„ ì´í•´í•˜ê³ , ì ì ˆíˆ ì¡°í•©í•˜ëŠ” ê²ƒ**ì…ë‹ˆë‹¤. ì²˜ìŒì—ëŠ” ê°„ë‹¨í•œ ì²´ì¸ë¶€í„° ì‹œì‘í•´ì„œ, ì ì§„ì ìœ¼ë¡œ ë³µì¡í•œ ì—ì´ì „íŠ¸ë‚˜ RAG ì‹œìŠ¤í…œìœ¼ë¡œ í™•ì¥í•´ ë‚˜ê°€ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤!

---

*"ë³µì¡í•¨ ì†ì—ì„œ ë‹¨ìˆœí•¨ì„ ì°¾ì•„ë¼" - LangChainì˜ ëª¨ë“ˆí™” ì² í•™* ğŸ¯